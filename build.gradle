import org.gradle.api.JavaVersion

plugins {
    id 'groovy'
    id 'ivy-publish'
}

group 'nl.practicom'
version '0.1'

java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

repositories {
    mavenCentral()
    ivy {
        url project.property('publishing.repo.url')
        patternLayout {
            artifact "[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"
            ivy "[organisation]/[module]/ivy-[revision].[ext]"
        }
    }
}

dependencies {
    compile 'nl.practicom:c4w-txa:0.1'
    compile group: 'org.codehaus.groovy', name: 'groovy', version: '2.4.17'
    compile group: 'org.codehaus.groovy', name: 'groovy-test', version: '2.4.17'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

publishing {
    repositories {
        ivy {
            url project.property('publishing.repo.url')
            patternLayout {
                artifact "[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"
                ivy "[organisation]/[module]/ivy-[revision].[ext]"
            }
        }
    }
    publications {
        ivy(IvyPublication) {
            organisation = 'nl.practicom'
            module = rootProject.name
            revision = version
            from components.java
        }
    }
}
